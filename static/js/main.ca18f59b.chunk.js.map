{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.scss","components/Modal/Modal.module.scss","components/Searchbar/Searchbar.module.scss","components/ImageGallery/ImageGallery.module.scss","components/Button/Button.module.scss","components/Loader/Loader.module.scss","App.module.scss","services/ApiService.jsx","components/SearchForm/SearchForm.jsx","components/Searchbar/Searchbar.jsx","components/ImageGalleryItem/default-image.jpg","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Button/Button.jsx","components/Loader/Loader.jsx","components/Modal/Modal.jsx","App.jsx","index.js","components/SearchForm/SearchForm.module.scss"],"names":["module","exports","instanse","axios","create","defaults","baseURL","params","key","orientation","image_type","per_page","ApiService","a","searchQuery","pageNumber","get","q","page","then","data","SearchForm","state","query","handleChange","event","setState","currentTarget","value","handleSubmit","preventDefault","props","onSubmit","resetForm","className","styles","this","type","SearchForm__button","SearchForm__buttonLabel","SearchForm__input","autoComplete","autoFocus","name","placeholder","onChange","Component","Searchbar","ImageGalleryItem","image","onClickImage","webformatURL","tags","largeImageURL","src","alt","ImageGalleryItem__image","onClick","defaultProps","defaultImage","ImageGallery","images","map","id","Button","onClickButton","App","color","height","width","timeout","Loader","modalRoot","document","querySelector","Modal","handleKeyDown","code","onClose","handleBackdropClick","target","window","addEventListener","removeEventListener","createPortal","Overlay","children","isLoading","showModal","largeImage","error","onChangeQuery","fetchImages","arg","hits","prevState","scrollToLoadButton","scrollTo","top","documentElement","scrollHeight","behavior","toggleModal","openModal","imageForModal","closeModal","prevProps","showLoadMoreButton","length","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.ca18f59b.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__2zLKA\",\"ImageGalleryItem__image\":\"ImageGalleryItem_ImageGalleryItem__image__1Oghp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__1C5FS\",\"Modal\":\"Modal_Modal__3lLIy\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__Ds5rU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__3Nz7P\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__1_3Q-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Loader\":\"Loader_Loader__15y4D\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__fF0JM\"};","import axios from 'axios';\r\n\r\nconst apiKey = '20348581-4182e159a5fcf959667e3ff42';\r\n\r\nconst instanse = axios.create();\r\n\r\ninstanse.defaults.baseURL = 'https://pixabay.com/api/';\r\n\r\ninstanse.defaults.params = {\r\n  key: apiKey,\r\n  orientation: 'horizontal',\r\n  image_type: 'photo',\r\n  per_page: 12,\r\n};\r\n\r\nconst ApiService = async ({ searchQuery, pageNumber }) => {\r\n  return await instanse\r\n    .get('', { params: { q: searchQuery, page: pageNumber } })\r\n    .then(({ data }) => data);\r\n};\r\n\r\nexport default ApiService;\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport styles from './SearchForm.module.scss';\r\n\r\nclass SearchForm extends Component {\r\n  static propTypes = {\r\n    onSubmit: PropTypes.func.isRequired,\r\n  };\r\n\r\n  state = {\r\n    query: '',\r\n  };\r\n\r\n  handleChange = event => {\r\n    this.setState({ query: event.currentTarget.value });\r\n  };\r\n\r\n  handleSubmit = event => {\r\n    event.preventDefault();\r\n\r\n    this.props.onSubmit(this.state.query);\r\n\r\n    this.resetForm();\r\n  };\r\n\r\n  resetForm = () => {\r\n    this.setState({ query: '' });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <form className={styles.SearchForm} onSubmit={this.handleSubmit}>\r\n        <button type=\"submit\" className={styles.SearchForm__button}>\r\n          <span className={styles.SearchForm__buttonLabel}>Search</span>\r\n        </button>\r\n\r\n        <input\r\n          className={styles.SearchForm__input}\r\n          type=\"text\"\r\n          autoComplete=\"off\"\r\n          autoFocus\r\n          name=\"search\"\r\n          value={this.state.query}\r\n          placeholder=\"Search images and photos\"\r\n          onChange={this.handleChange}\r\n        />\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\nexport default SearchForm;\r\n","import { Component } from 'react';\r\n\r\nimport SearchForm from '../SearchForm';\r\n\r\nimport styles from './Searchbar.module.scss';\r\n\r\nclass Searchbar extends Component {\r\n  render() {\r\n    return (\r\n      <header className={styles.Searchbar}>\r\n        <SearchForm onSubmit={this.props.onSubmit} />\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Searchbar;\r\n","export default __webpack_public_path__ + \"static/media/default-image.2e01288c.jpg\";","import PropTypes from 'prop-types';\r\n\r\nimport defaultImage from './default-image.jpg';\r\n\r\nimport styles from './ImageGalleryItem.module.scss';\r\n\r\nconst ImageGalleryItem = ({ image, onClickImage }) => {\r\n  const { webformatURL, tags, largeImageURL } = image;\r\n\r\n  const openLargeImage = () => onClickImage(largeImageURL);\r\n\r\n  return (\r\n    <li className={styles.ImageGalleryItem}>\r\n      <img\r\n        src={webformatURL}\r\n        alt={tags}\r\n        className={styles.ImageGalleryItem__image}\r\n        onClick={openLargeImage}\r\n      />\r\n    </li>\r\n  );\r\n};\r\n\r\nImageGalleryItem.defaultProps = {\r\n  tags: 'Foto',\r\n  webformatURL: defaultImage,\r\n  largeImageURL: defaultImage,\r\n};\r\n\r\nImageGalleryItem.propTypes = {\r\n  webformatURL: PropTypes.string.isRequired,\r\n  tags: PropTypes.string.isRequired,\r\n  largeImageURL: PropTypes.string.isRequired,\r\n  onClickImage: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import PropTypes from 'prop-types';\r\n\r\nimport ImageGalleryItem from '../ImageGalleryItem';\r\n\r\nimport styles from './ImageGallery.module.scss';\r\n\r\nconst ImageGallery = ({ images, onClickImage }) => {\r\n  return (\r\n    <ul className={styles.ImageGallery}>\r\n      {images.map(image => {\r\n        return (\r\n          <ImageGalleryItem\r\n            key={image.id}\r\n            image={image}\r\n            onClickImage={onClickImage}\r\n          />\r\n        );\r\n      })}\r\n    </ul>\r\n  );\r\n};\r\n\r\nImageGallery.propTypes = {\r\n  id: PropTypes.string,\r\n  images: PropTypes.arrayOf(PropTypes.object).isRequired,\r\n};\r\n\r\nexport default ImageGallery;\r\n","import PropTypes from 'prop-types';\r\n\r\nimport styles from './Button.module.scss';\r\n\r\nconst Button = ({ onClickButton }) => {\r\n  return (\r\n    <button className={styles.Button} type=\"button\" onClick={onClickButton}>\r\n      Load more\r\n    </button>\r\n  );\r\n};\r\n\r\nButton.propTypes = {\r\n  onClick: PropTypes.func,\r\n};\r\n\r\nexport default Button;\r\n","import { Component } from 'react';\r\n\r\nimport Loader from 'react-loader-spinner';\r\n\r\nimport styles from './Loader.module.scss';\r\n\r\nexport default class App extends Component {\r\n  //other logic\r\n  render() {\r\n    return (\r\n      <Loader\r\n        type=\"Oval\"\r\n        color=\"#00BFFF\"\r\n        height={100}\r\n        width={100}\r\n        timeout={3000} //3 secs\r\n        className={styles.Loader}\r\n      />\r\n    );\r\n  }\r\n}\r\n","import { Component } from 'react';\r\nimport { createPortal } from 'react-dom';\r\n\r\nimport PropTypes from 'prop-types';\r\n\r\nimport styles from './Modal.module.scss';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nclass Modal extends Component {\r\n  static propTypes = {\r\n    onClose: PropTypes.func.isRequired,\r\n  };\r\n\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  handleKeyDown = event => {\r\n    if (event.code === 'Escape') {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  handleBackdropClick = event => {\r\n    if (event.currentTarget === event.target) {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return createPortal(\r\n      <div className={styles.Overlay} onClick={this.handleBackdropClick}>\r\n        <div className={styles.Modal}>{this.props.children}</div>\r\n      </div>,\r\n      modalRoot,\r\n    );\r\n  }\r\n}\r\n\r\nexport default Modal;\r\n","import { Component } from 'react';\n\nimport ApiService from './services/ApiService';\n\nimport Searchbar from './components/Searchbar';\nimport ImageGallery from './components/ImageGallery';\nimport Button from './components/Button';\nimport Loader from './components/Loader';\nimport Modal from './components/Modal';\n\nimport styles from './App.module.scss';\n\nclass App extends Component {\n  state = {\n    images: [],\n    pageNumber: 1,\n    searchQuery: '',\n    isLoading: false,\n    showModal: false,\n    largeImage: '',\n    error: null,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.searchQuery !== this.state.searchQuery) {\n      this.fetchImages();\n    }\n  }\n\n  onChangeQuery = query => {\n    this.setState({\n      images: [],\n      pageNumber: 1,\n      searchQuery: query,\n      error: null,\n    });\n  };\n\n  fetchImages = async () => {\n    const { searchQuery, pageNumber } = this.state;\n    const arg = { searchQuery, pageNumber };\n\n    this.setState({ isLoading: true });\n\n    try {\n      const { hits } = await ApiService(arg);\n\n      this.setState(prevState => ({\n        images: [...prevState.images, ...hits],\n        pageNumber: prevState.pageNumber + 1,\n      }));\n\n      if (pageNumber !== 1) {\n        this.scrollToLoadButton();\n      }\n    } catch (error) {\n      this.setState({ error });\n    } finally {\n      this.setState({ isLoading: false });\n    }\n  };\n\n  scrollToLoadButton = () => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n  };\n\n  toggleModal = () => {\n    this.setState(({ showModal }) => ({ showModal: !showModal }));\n  };\n\n  openModal = imageForModal => {\n    this.setState({ largeImage: imageForModal });\n\n    this.toggleModal();\n  };\n\n  closeModal = () => {\n    this.setState({ largeImage: '' });\n\n    this.toggleModal();\n  };\n\n  render() {\n    const { images, isLoading, showModal, largeImage, error } = this.state;\n    const showLoadMoreButton = images.length > 0 && !isLoading;\n\n    return (\n      <div className={styles.App}>\n        <Searchbar onSubmit={this.onChangeQuery} />\n\n        {error && (\n          <error>\n            <p>Произошла ошибка, ...</p>\n          </error>\n        )}\n\n        <ImageGallery images={images} onClickImage={this.openModal} />\n\n        {showLoadMoreButton && <Button onClickButton={this.fetchImages} />}\n\n        {isLoading && <Loader />}\n\n        {showModal && (\n          <Modal onClose={this.closeModal}>\n            <img src={largeImage} alt=\"\" />\n          </Modal>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App.jsx';\n\nimport 'modern-normalize/modern-normalize.css';\n\nimport './index.scss';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"SearchForm\":\"SearchForm_SearchForm__1T8s2\",\"SearchForm__button\":\"SearchForm_SearchForm__button__2AD2V\",\"SearchForm__buttonLabel\":\"SearchForm_SearchForm__buttonLabel__3izby\",\"SearchForm__input\":\"SearchForm_SearchForm__input__2ZfjS\"};"],"sourceRoot":""}